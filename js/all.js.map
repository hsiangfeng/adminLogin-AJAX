{"version":3,"sources":["all.js"],"names":["sendPost","document","getElementById","sendPostLogin","sendJSONLogin","addEventListener","signupPost","signupJSON","sendJSON","resultList","querySelector","signinUrl","signupUrl","postHeader","jsonHeader","e","preventDefault","emailPost","passwdPost","lineModel","value","XHRCall","str","emailJSON","passwdJSON","data","password","XMLHttpRequest","header","sendStr","modelText","xhr","setRequestHeader","url","send","onload","resultListFu","parse","responseText","item","model","resultStr","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","nowDateTime","message","textContent","concat","setAttribute","appendChild"],"mappings":"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","file":"all.js","sourcesContent":["const sendPost = document.getElementById('sendPost');\r\nconst sendPostLogin = document.getElementById('sendPostLogin');\r\nconst sendJSON = document.getElementById('sendJSON');\r\nconst sendJSONLogin = document.getElementById('sendJSONLogin');\r\n\r\nsendPost.addEventListener('click', signupPost);\r\nsendPostLogin.addEventListener('click', signinPost);\r\nsendJSON.addEventListener('click', signupJSON);\r\nsendJSONLogin.addEventListener('click', signinJSON);\r\n\r\nconst resultList = document.querySelector('.resultList');\r\n\r\nconst lineModel = 'POST';\r\nconst signinUrl = 'https://hexschool-tutorial.herokuapp.com/api/signin';\r\nconst signupUrl = 'https://hexschool-tutorial.herokuapp.com/api/signup';\r\nconst postHeader = 'application/x-www-form-urlencoded';\r\nconst jsonHeader = 'application/json';\r\n\r\nfunction signinPost(e) {\r\n    e.preventDefault();\r\n    const emailPost = document.getElementById('emailPost');\r\n    const passwdPost = document.getElementById('passwdPost');\r\n    const str = `email=${emailPost.value}&password=${passwdPost.value}`;\r\n    XHRCall(lineModel, signinUrl, postHeader, str, 'POST');\r\n}\r\n\r\nfunction signupPost(e) {\r\n    e.preventDefault();\r\n    const emailPost = document.getElementById('emailPost');\r\n    const passwdPost = document.getElementById('passwdPost');\r\n    const str = `email=${emailPost.value}&password=${passwdPost.value}`;\r\n    XHRCall(lineModel, signupUrl, postHeader, str, 'POST');\r\n}\r\n\r\nfunction signinJSON(e) {\r\n    e.preventDefault();\r\n    const emailJSON = document.getElementById('emailJSON');\r\n    const passwdJSON = document.getElementById('passwdJSON');\r\n    const data = {\r\n        email: emailJSON.value,\r\n        password: passwdJSON.value\r\n    }\r\n    const str = JSON.stringify(data);\r\n    XHRCall(lineModel, signinUrl, jsonHeader, str, 'JSON');\r\n}\r\n\r\nfunction signupJSON(e) {\r\n    e.preventDefault();\r\n    const emailJSON = document.getElementById('emailJSON');\r\n    const passwdJSON = document.getElementById('passwdJSON');\r\n    const data = {\r\n        email: emailJSON.value,\r\n        password: passwdJSON.value\r\n    }\r\n    const str = JSON.stringify(data);\r\n    XHRCall(lineModel, signupUrl, jsonHeader, str, 'JSON');\r\n}\r\n\r\nfunction XHRCall(lineModel, url, header, sendStr, modelText) {\r\n    const xhr = new XMLHttpRequest();\r\n    xhr.open(lineModel, url);\r\n    xhr.setRequestHeader('Content-type', header);\r\n    xhr.send(sendStr);\r\n    xhr.onload = function () {\r\n        const _data = JSON.parse(xhr.responseText);\r\n        resultListFu(_data, modelText);\r\n    }\r\n}\r\n\r\nfunction resultListFu(item, model) {\r\n    let resultStr = document.createElement('p');\r\n    let date= new Date;\r\n    let nowDateTime = date.getFullYear()+'/'+(date.getMonth()+1)+'/'+date.getDate()+' '+date.getHours()+':'+date.getMinutes()+':'+date.getSeconds();\r\n    switch (true) {\r\n        case item.message == '帳號註冊成功':\r\n            resultStr.textContent = `帳號註冊成功 - 您現在使用${model}模式 - 時間：${nowDateTime}`;\r\n            resultStr.setAttribute('class','text-success');\r\n            resultList.appendChild(resultStr);\r\n            break;\r\n        case item.message == '此帳號已被使用':\r\n            resultStr.textContent = `此帳號已經被使用 - 您現在使用${model}模式 - 時間：${nowDateTime}`;\r\n            resultStr.setAttribute('class','text-warning');\r\n            resultList.appendChild(resultStr);\r\n            break;\r\n        case item.message == '登入成功':\r\n            resultStr.textContent = `登入成功 - 您現在使用${model}模式登入 - 時間：${nowDateTime}`;\r\n            resultStr.setAttribute('class','text-primary');\r\n            resultList.appendChild(resultStr);\r\n            break;\r\n        case item.message == '此帳號不存在或帳號密碼錯誤':\r\n            resultStr.textContent = `此帳號不存在或帳號密碼錯誤 - 您現在使用${model}模式 - 時間：${nowDateTime}`;\r\n            resultStr.setAttribute('class','text-warnimg');\r\n            resultList.appendChild(resultStr);\r\n            break;\r\n        case item.message == 'Email 格式不正確':\r\n            resultStr.textContent = `Email格式不正確，請重新輸入 - 您現在使用${model}模式 - 時間：${nowDateTime}`;\r\n            resultStr.setAttribute('class','text-danger');\r\n            resultList.appendChild(resultStr);\r\n            break;\r\n        default:\r\n            resultStr.textContent = `Error - 您現在使用${model}模式 - 時間：${nowDateTime}`;\r\n            resultStr.setAttribute('class','text-danger');\r\n            resultList.appendChild(resultStr);\r\n            break;\r\n    }\r\n}"]}