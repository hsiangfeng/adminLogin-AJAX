{"version":3,"sources":["all.js"],"names":["sendPost","document","getElementById","sendPostLogin","sendJSONLogin","addEventListener","signupPost","signupJSON","sendJSON","resultList","querySelector","lineModel","signinUrl","signupUrl","postHeader","jsonHeader","passwdPost","e","str","XHRCall","admingObj","concat","emailPost","value","signinJSON","passwdJSON","data","email","emailJSON","password","JSON","stringify","header","sendStr","modelText","xhr","setRequestHeader","url","XMLHttpRequest","open","onload","_data","resultListFu","responseText","resultStr","createElement","date","Date","nowDateTime","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","item","message","textContent","model","setAttribute","appendChild","Object","freeze","signinPost"],"mappings":"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","file":"all.js","sourcesContent":["const sendPost = document.getElementById('sendPost');\r\nconst sendPostLogin = document.getElementById('sendPostLogin');\r\nconst sendJSON = document.getElementById('sendJSON');\r\nconst sendJSONLogin = document.getElementById('sendJSONLogin');\r\n\r\nsendPost.addEventListener('click', signupPost);\r\nsendPostLogin.addEventListener('click', signinPost);\r\nsendJSON.addEventListener('click', signupJSON);\r\nsendJSONLogin.addEventListener('click', signinJSON);\r\n\r\nconst resultList = document.querySelector('.resultList');\r\n\r\nconst admingObj = {\r\n    lineModel: 'POST',\r\n    signinUrl: 'https://hexschool-tutorial.herokuapp.com/api/signin',\r\n    signupUrl: 'https://hexschool-tutorial.herokuapp.com/api/signup',\r\n    postHeader: 'application/x-www-form-urlencoded',\r\n    jsonHeader: 'application/json',\r\n}\r\n\r\nObject.freeze(admingObj);\r\n\r\n\r\nfunction signinPost(e) {\r\n    e.preventDefault();\r\n    const emailPost = document.getElementById('emailPost');\r\n    const passwdPost = document.getElementById('passwdPost');\r\n    const str = `email=${emailPost.value}&password=${passwdPost.value}`;\r\n    XHRCall(admingObj.lineModel, admingObj.signinUrl, admingObj.postHeader, str, 'POST');\r\n}\r\n\r\nfunction signupPost(e) {\r\n    e.preventDefault();\r\n    const emailPost = document.getElementById('emailPost');\r\n    const passwdPost = document.getElementById('passwdPost');\r\n    const str = `email=${emailPost.value}&password=${passwdPost.value}`;\r\n    XHRCall(admingObj.lineModel, admingObj.signupUrl, admingObj.postHeader, str, 'POST');\r\n}\r\n\r\nfunction signinJSON(e) {\r\n    e.preventDefault();\r\n    const emailJSON = document.getElementById('emailJSON');\r\n    const passwdJSON = document.getElementById('passwdJSON');\r\n    const data = {\r\n        email: emailJSON.value,\r\n        password: passwdJSON.value\r\n    }\r\n    const str = JSON.stringify(data);\r\n    XHRCall(admingObj.lineModel, admingObj.signinUrl, admingObj.jsonHeader, str, 'JSON');\r\n}\r\n\r\nfunction signupJSON(e) {\r\n    e.preventDefault();\r\n    const emailJSON = document.getElementById('emailJSON');\r\n    const passwdJSON = document.getElementById('passwdJSON');\r\n    const data = {\r\n        email: emailJSON.value,\r\n        password: passwdJSON.value\r\n    }\r\n    const str = JSON.stringify(data);\r\n    XHRCall(admingObj.lineModel, admingObj.signupUrl, admingObj.jsonHeader, str, 'JSON');\r\n}\r\n\r\nfunction XHRCall(lineModel, url, header, sendStr, modelText) {\r\n    const xhr = new XMLHttpRequest();\r\n    xhr.open(lineModel, url);\r\n    xhr.setRequestHeader('Content-type', header);\r\n    xhr.send(sendStr);\r\n    xhr.onload = function () {\r\n        const _data = JSON.parse(xhr.responseText);\r\n        resultListFu(_data, modelText);\r\n    }\r\n}\r\n\r\nfunction resultListFu(item, model) {\r\n    let resultStr = document.createElement('p');\r\n    let date = new Date;\r\n    let nowDateTime = `${date.getFullYear()}/${(date.getMonth() + 1)}/${date.getDate()}-${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}`;\r\n    switch (true) {\r\n        case item.message == '帳號註冊成功':\r\n            resultStr.textContent = `帳號註冊成功 - 您現在使用${model}模式 - 時間：${nowDateTime}`;\r\n            resultStr.setAttribute('class', 'text-success');\r\n            resultList.appendChild(resultStr);\r\n            break;\r\n        case item.message == '此帳號已被使用':\r\n            resultStr.textContent = `此帳號已經被使用 - 您現在使用${model}模式 - 時間：${nowDateTime}`;\r\n            resultStr.setAttribute('class', 'text-warning');\r\n            resultList.appendChild(resultStr);\r\n            break;\r\n        case item.message == '登入成功':\r\n            resultStr.textContent = `登入成功 - 您現在使用${model}模式登入 - 時間：${nowDateTime}`;\r\n            resultStr.setAttribute('class', 'text-primary');\r\n            resultList.appendChild(resultStr);\r\n            break;\r\n        case item.message == '此帳號不存在或帳號密碼錯誤':\r\n            resultStr.textContent = `此帳號不存在或帳號密碼錯誤 - 您現在使用${model}模式 - 時間：${nowDateTime}`;\r\n            resultStr.setAttribute('class', 'text-warnimg');\r\n            resultList.appendChild(resultStr);\r\n            break;\r\n        case item.message == 'Email 格式不正確':\r\n            resultStr.textContent = `Email格式不正確，請重新輸入 - 您現在使用${model}模式 - 時間：${nowDateTime}`;\r\n            resultStr.setAttribute('class', 'text-danger');\r\n            resultList.appendChild(resultStr);\r\n            break;\r\n        default:\r\n            resultStr.textContent = `Error - 您現在使用${model}模式 - 時間：${nowDateTime}`;\r\n            resultStr.setAttribute('class', 'text-danger');\r\n            resultList.appendChild(resultStr);\r\n            break;\r\n    }\r\n}"]}