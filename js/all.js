"use strict";var sendPost=document.getElementById("sendPost"),sendPostLogin=document.getElementById("sendPostLogin"),sendJSON=document.getElementById("sendJSON"),sendJSONLogin=document.getElementById("sendJSONLogin");sendPost.addEventListener("click",signupPost),sendPostLogin.addEventListener("click",signinPost),sendJSON.addEventListener("click",signupJSON),sendJSONLogin.addEventListener("click",signinJSON);var resultList=document.querySelector(".resultList"),lineModel="POST",signinUrl="https://hexschool-tutorial.herokuapp.com/api/signin",signupUrl="https://hexschool-tutorial.herokuapp.com/api/signup",postHeader="application/x-www-form-urlencoded",jsonHeader="application/json";function signinPost(e){e.preventDefault();var t=document.getElementById("emailPost"),n=document.getElementById("passwdPost"),s="email=".concat(t.value,"&password=").concat(n.value);XHRCall(lineModel,signinUrl,postHeader,s,"POST")}function signupPost(e){e.preventDefault();var t=document.getElementById("emailPost"),n=document.getElementById("passwdPost"),s="email=".concat(t.value,"&password=").concat(n.value);XHRCall(lineModel,signupUrl,postHeader,s,"POST")}function signinJSON(e){e.preventDefault();var t=document.getElementById("emailJSON"),n=document.getElementById("passwdJSON"),s={email:t.value,password:n.value},a=JSON.stringify(s);XHRCall(lineModel,signinUrl,jsonHeader,a,"JSON")}function signupJSON(e){e.preventDefault();var t=document.getElementById("emailJSON"),n=document.getElementById("passwdJSON"),s={email:t.value,password:n.value},a=JSON.stringify(s);XHRCall(lineModel,signupUrl,jsonHeader,a,"JSON")}function XHRCall(e,t,n,s,a){var o=new XMLHttpRequest;o.open(e,t),o.setRequestHeader("Content-type",n),o.send(s),o.onload=function(){resultListFu(JSON.parse(o.responseText),a)}}function resultListFu(e,t){var n=document.createElement("p"),s=new Date,a=s.getFullYear()+"/"+(s.getMonth()+1)+"/"+s.getDate()+" "+s.getHours()+":"+s.getMinutes()+":"+s.getSeconds();switch(!0){case"帳號註冊成功"==e.message:n.textContent="帳號註冊成功 - 您現在使用".concat(t,"模式 - 時間：").concat(a),n.setAttribute("class","text-success"),resultList.appendChild(n);break;case"此帳號已被使用"==e.message:n.textContent="此帳號已經被使用 - 您現在使用".concat(t,"模式 - 時間：").concat(a),n.setAttribute("class","text-warning"),resultList.appendChild(n);break;case"登入成功"==e.message:n.textContent="登入成功 - 您現在使用".concat(t,"模式登入 - 時間：").concat(a),n.setAttribute("class","text-primary"),resultList.appendChild(n);break;case"此帳號不存在或帳號密碼錯誤"==e.message:n.textContent="此帳號不存在或帳號密碼錯誤 - 您現在使用".concat(t,"模式 - 時間：").concat(a),n.setAttribute("class","text-warnimg"),resultList.appendChild(n);break;case"Email 格式不正確"==e.message:n.textContent="Email格式不正確，請重新輸入 - 您現在使用".concat(t,"模式 - 時間：").concat(a),n.setAttribute("class","text-danger"),resultList.appendChild(n);break;default:n.textContent="Error - 您現在使用".concat(t,"模式 - 時間：").concat(a),n.setAttribute("class","text-danger"),resultList.appendChild(n)}}
//# sourceMappingURL=all.js.map
